---
title             : "Need for Cognition and Ability Self-Concepts as Predictors of Changes in School Grades"
shorttitle        : "NFC, ASC and School Grades"

author: 
  - name          : "Anja Strobel"
    address       : "Department of Psychology, Chemnitz University of Technology, 09120 Chemnitz, Germany"
    email         : "anja.strobel@psychologie.tu-chemnitz.de"
    affiliation   : "1*"
    corresponding : yes
  - name          : "Alexander Strobel"
    affiliation   : "2*"
  - name          : "Franzis Preckel"
    affiliation   : "3"
  - name          : "Ricarda Steinmayer"
    affiliation   : "4"

affiliation:
  - id            : "1"
    institution   : "Department of Psychology, Chemnitz University of Technology, Chemnitz, Germany"
  - id            : "2"
    institution   : "Faculty of Psychology, Technische Universität Dresden, Dresden, Germany"
  - id            : "3"
    institution   : "Department of Psychology, University of Trier, Trier, Germany"
  - id            : "4"
    institution   : "Department of Psychology, TU Dortmund University, Dortmund, Germany"


authornote: |
  [adjust according to APA style]
  * These authors contributed equally to this work.
  [add acknowledgements and funding if applicable]

abstract: | 
  ...  
  
keywords          : "Need for Cognition, Grades, Academic Self-Concept, Latent Change Score Modeling, Longitudinal"
wordcount         : ""
bibliography      : ["NFC-Grades_References.bib"]

linenumbers       : yes
floatsintext      : no
figurelist        : no
tablelist         : no
footnotelist      : no
mask              : no
draft             : no

documentclass     : "apa6"
classoption       : "man"
output            : papaja::apa6_pdf

---

```{r setup, include = T, echo = F, message = F, warning = F}

# activated packages will be added automatically to the Bibtex library

# required packages -----------------------------------------------------------

library(haven)      # for reading SPSS data files
library(knitr)      # for various functions (e.g. kable)
library(lavaan)     # for latent change score modeling
library(papaja)     # for easier reporting
library(psych)      # for correlation analysis, Mardia test etc.
library(pwr)        # for power analyses
library(shape)      # for plotting

# RStudio version used
RStudio.version = "2021.9.0.351"

# knitr options ---------------------------------------------------------------
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)

# functions -------------------------------------------------------------------

# function for retrieving the version of a given package
get.version <- function(package) {
  version = unlist(citation(package))
  version = unlist(strsplit(version[grep("R package version",version)], " ", fixed = T))
  version = version[length(version)]
  return(version)
}

# function for reporting p-values in main text (wrapper for papaja::printp)
rp <- function(p, bound = "max") {
  if (length(p) == 1) {
    # single p-value is passed
    if (p >= .001) {
      # returns "p = ..."
      p_out = paste0("$p=", papaja::printp(p), "$")
    } else {
      # returns "p < .001"
      p_out = paste0("$p", papaja::printp(p), "$")
    } 
  } else if (length(p) > 1) {
    # vector of p-values is passed
    if (bound == "max") {
      # returns "p <= ..."
      p_out = paste0("$p", "\\le", papaja::printp(max(p)), "$")
    } else if (bound == "min") {
      # returns "p >= ..."
      p_out = paste0("$p", "\\ge", papaja::printp(min(p)), "$")
    }
    
  }
  return(p_out)
}

# function for reporting correlations in main text (wrapper for papaja::printnum)
rr <-  function(r, symbol = "$r_{s}", bound = "max", absval = F) {
  # per default assumes Spearman correlation, set symbol to "$r" for Pearson 
  
  # shall absolute value of correlations be returned?
  if (absval == T) {
    symbol = paste0("$|", sub("[$]", "", symbol), "|")
  }
  
  if (length(r) == 1) {
    # single correlation is passed
    if (abs(r) < .01) {
      # returns "r < .01"
      r_out = paste0(symbol, "<", papaja::printnum(r, gt1 = F), "$")
    } else {
      # returns "r = ..."
      r_out = paste0(symbol, "=", papaja::printnum(r, gt1 = F), "$")
    }  
  } else {
    # vector of correlations is passed
    if (bound == "max") {
      # returns "r <= ..."
      r_out = paste0(symbol, "\\le", papaja::printnum(max(r), gt1 = F), "$")
    } else if (bound == "min") {
      # returns "r >= ..."
      r_out = paste0(symbol, "\\ge", papaja::printnum(min(r), gt1 = F), "$")
    }
  }
  return(r_out)
}

# function for reporting regression coefficients based on multiple regression using lavaan
rb <- function(parameter_estimates, pred = "") {
  # shorten varname for easier coding
  pe = parameter_estimates
  
  # which row contains predictor?
  pe_row = which(pe$rhs == pred)
  
  # create report string
  report = paste0("$B=$ ", printnum(pe$est[pe_row]), 
                  ", 95% CI [", paste0(printnum(pe[pe_row, c('ci.lower', 'ci.upper')]), collapse = ', '), "], "
                  , rp(pe[pe_row, 'pvalue']))

  return(report)
}

# function for reporting coefficients of latent change score modeling
rl <- function(parameter_estimates, label = "") {
  
  # get relevant parameter estimates
  pe = parameter_estimates[25:39,]

  # prepare output
  out = paste0("$B=$ ", printnum(pe[which(pe$label == label), 'est']), 
               ", 95% CI [", paste0(printnum(pe[which(pe$label == label), c('ci.lower', 'ci.upper')]), collapse = ", "), "], ",
               rp(pe[which(pe$label == label), 'pvalue']), ", ",
               "$\\beta=$ ", printnum(pe[which(pe$label == label), 'std.all'], gt1 = F))

  return(out)
  
}

```

The role of mental effort investment in goal-directed behavior has been at debate for long [@Kahneman1973; @Mulder1986], but in the last decade, there has been a renewed interest in that issue. Several contemporary theories [e.g., @Kurzban2013; @Shenhav2017] highlight its importance in value-based decision-making, and crucially, individual differences in dispositional mental effort investment have been identified that systematically relate to actual effort investment in behavioral paradigms designed to challenge an individual's willingness to engage in mental effort investment. 

...

# Methods
<!-- 21-word solution (Simmons, Nelson & Simonsohn, 2012; retrieved from http://ssrn.com/abstract=2160588) -->
We report how we determined our sample size, all data exclusions, all manipulations, and all measures in the study [cf. @Simmons2012]. All data and materials for reproducing our analyses are permanently and openly accessible at ... The study was not preregistered.

## Participants

```{r data, cache = F, include = FALSE, message = F, warning = F}

load(here::here("Data", "NFC-Grades.RData"))

```

Sample size was determined by pragmatic considerations, i.e., to collect as many participants given existing time constraints and the longitudinal nature of the project. We eventually managed to recruit a sample of $N$ = `r age$n[1]` participants (`r round(100*gender[1,'%female'])`% women) at the first measurement occasion (T1) of which $N$ = `r age$n[2]` participants (`r round(100*gender[2,'%female'])`% women) also took part at the second measurement occasion (T2) that took place `r paste(Tdiff, collapse="-")` weeks later. Age range was `r paste(age[1, 8:9], collapse = "-")` years (median = `r age$median[1]` years) at T1 and `r paste(age[2, 8:9], collapse = "-")` years (median = `r age$median[2]` years) at T2. With the sample size accomplished at T2, we were able to detect correlations of _r_ $\ge$ `r printnum(pwr.r.test(n = age$n[2], sig.level = .05, power = .8)$r, gt1 = F)` at $\alpha$ = .05 (two-sided) and 1-$\beta$ = .80. Yet, we tried to impute missing values to raise power (see below, _Statistical analyses_).

## Material

We used the following self-report measures to assess the measures of interest for the present study.

_School Grades_ in general, i.e., Grade Point Average (GPA), and grades in German, math, chemistry, and physics were assessed via self-report. In Germany, school grades range from 1 (excellent) to 6 (insufficient). For better interpretability, we reversed this coding via $6 - grade$, so the values we used for statistical analyses ranged from 0 (insufficient) to 5 (excellent). 

_Need for Cognition_ (NFC) was assessed with the 16-item short version of the German NFC scale [@Bless1994]. Responses to each item (e.g., "Thinking is not my idea of fun", recoded) were recorded on a four-point scale ranging from -3 (completely disagree) to +3 (completely agree) and were summed to the total NFC score. The scale has a comparably high internal consistency, Cronbach’s $\alpha$ > .80 [@Bless1994; @Fleischhauer2010], and retest reliability, $r_{tt} = .83$ across 8 to 18 weeks [@Fleischhauer2015]. 

_Hope for Successs_ and _Fear of Failure_ were assessed using the Achievement Motive Scales [@Gjesme1970; German version: @Goettert1980]. For the present study, we used a short form measuring each construct with seven items. All items were answered on a four-point scale ranging from 1 (does not apply at all) to 4 (fully applies). Example items for the two scales are "Difficult problems appeal to me" and "Matters that are slightly difficult disconcert me". Both scales exhibit high internal consistencies, Cronbach's $\alpha\ge.85$ [@Steinmayr2009].

The _Ability Self-Concept_ in school in general and in the four subjects German, math, physics, and chemistry were assessed with four items per domain using the Scales for the Assessment of Academic Self-Concept [@Schoene2002] (example item: "I can do well in ... (school, math, German, physics, chemistry)."). Items were answered on a 5-point scale ranging from 1 (<!-- anchor? -->) to 5 (<!-- anchor? -->). The scales' internal consistency, Cronbach's $\alpha\ge.80$, and retest reliability, $r_{tt}\ge.59$ across six months, can be considered as high.

_Interest_ in school in general and in the above four subjects were measured using Interest subscales of the Scales for the Assessment of Subjective Values in School [@Steinmayr2010]. Answers to three items per domain (example item: "How much do you like ... (school, math, German, physics, chemistry).") were recorded on a 5-point scale ranging from  1 (<!-- anchor? -->) to 5 (<!-- anchor? -->). The scales have high internal consistency, Cronbach’s $\alpha\ge.89$, and retest reliability, $r_{tt} = .72$ across six months [@Steinmayr2010]. 


## Procedure

...


## Statistical analysis

We used _RStudio_ [Version `r paste(RStudio.version)`; @RStudio] with `r cite_r("r-references.bib", withhold = F, pkgs = c("lavaan", "psych", "pwr"))`. This manuscript was created using RMarkdown with the packages _papaja_ [Version `r get.version("papaja")`; @R-papaja], _knitr_ [Version `r get.version("knitr")`; @R-knitr], and _shape_ [Version `r get.version("shape")`; @R-shape]. 

First the variables were separated into four sets, each containing the T1 and T2 measurements of the variables Hope for Success (HfS), Fear of Failure (FoF), and Need for Cognition (NFC) as well as either GPA, overall ability self-concept regarding school, and general interest in school, or domain-specific grades, ability self-concept and interest in German, math, physics, and chemistry. All measures were initially analyzed with regard to descriptive statistics, reliability (retest-reliability $r_{tt}$ as well as Cronbach's $\alpha$), and possible deviation from univariate and multivariate normality. Almost all relevant variables deviated from univariate normality as determined using Shapiro-Wilks tests with a threshold of $\alpha$ = .20, all $p\le$ `r printp(max(shapiro.tests[-which.max(shapiro.tests[, 2]),]))` except for NFC at T2, *p* = `r printp(max(shapiro.tests[, 2]))`. Also, there was deviation from multivariate normality as determined using Mardia tests, all $p_{skew}$ and $p_{kurtosis}$ `r printp(mardia.tests[2, 1])`. Therefore, we used more robust variants for the statistical tests to be performed, i.e., Spearman rank correlations ($r_s$) for correlation analyses and Robust Maximum Likelihood (MLR) for regression analyses and latent change score modeling.

Possible differences between the measurement occasions T1 and T2 were descriptively assessed via boxplots, with overlapping notches---that can roughly be interpreted as 95% confidence intervals of a given median---pointing to noteworthy differences. Otherwise differences between time points were not considered further given the scope of the present report. Correlation analyses were performed separately for the five sets of data (see Table 1 and Supplementary Tables S1 to S4). Where appropriate, evaluation of statistical significance was based on 95% confidence intervals (CI) that did not include zero. Evaluation of effect sizes of correlations was based on the empirically derived guidelines for personality and social psychology research provided by @Gignac2016, i.e., correlations were regarded as small for $r < .20$, as medium for .20 $\le r \le$ .30, and as large for $r > .30$. 

To examine which variables measured at T1 would be significant predictors of school grades at T2, we ran a five regression analyses with the GPA and the four subject-specific grades as criterion and used the results of the first regression analysis (with the domain-general Ability Self-Concept, Interest in School, Hope for Success and Fear of failure, and NFC measured at T1 as predictors and GPA at T2 as criterion) to select the variables for latent change score modeling. Significant predictors in this model were used for all latent change score models even if for certain subjects, the predictors were not significant in the respective regression models. Regression models were fitted via _lavaan_, using MLR as estimation technique and the Full-Information Maximum Likelihood (FIML) approach to impute missing values. Due to missing patterns, this resulted in an effective sample size of $N$ = `r mr.nobs`. To asses whether a model that included NFC was superior to a model that included established predictors of academic achievement, we (1) evaluated the fit of the respective models based on the recommendations by @Hu1999, with values of CFI $\ge$ .95, RMSEA $\le$ .06, and SRMR $\le$ 0.08 indicating good model fit, and (2) performed $\chi^2$-difference tests between the former and the latter model (and all other variables' loadings fixed to zero).   

In the final step, latent change score modeling was applied. In this approach [see @Kievit2018], one can examine (1) whether true change in a variable has occurred via a latent change score that is modeled from the respective measurements of this variable at different measurement occasions, here T1 and T2, (2) to what extent the change in a variable is a function of the measurement of the _same_ variable at T1 (self-feedback) and (3) to what extent the change in this variable is a function of the measurement of _other_ variables in the model at T1 (cross-domain coupling). Thereby, cross-domain effects, i.e., whether the change in one domain (e.g., school grades) is a function of the baseline score of another (e.g., NFC) and vice versa could be examined. In addition, correlated change in the variables of interest can be examined, i.e., to what extent does the change in one variable correlate with the change in another variable. Again, MLR estimation and imputation of missing values via FIML was employed.

# Results

## Domain-general grades

```{r corr, echo = F, message = F, warning = F, results = "asis"}

# correlation analysis --------------------------------------------------------

apa_table(list(corr.overall$ct,corr.overall$dt),
          caption = corr.overall$caption,
          midrules = 12,
          align = c("l", rep("c",ncol(df.overall))),
          note = corr.overall$note,
          escape = F,
          font_size = "footnotesize")
```

Table 1 gives the descriptive statistics and intercorrelations of the variables of interest in this analysis step, i.e., the T1 and T2 measurements of GPA, domain-general ability self-concept, and general interest in school as well as the variables Hope for Success, Fear of Failure, and NFC. As can be seen in the diagonal and the upper right of the correlation table, all variables exhibited good internal consistency, Cronbach's $\alpha\ge$ `r corr.overall$min.ic`, and retest reliability, $r_{tt}\ge$ `r corr.overall$min.rtt`. Among the predictors at T1, GPA at T1 showed the strongest relation to GPA at T2, `r rr(corr.test(GRO2,GRO1)$r)`, followed by the domain-general ability self-concept, `r rr(corr.test(GRO2,ASO1)$r)`, and NFC at T1, `r rr(corr.test(GRO2,NFC1)$r)`, all $p<$ .001. The other variables at T1 showed significant correlations with GPA at T2 as well, `r rr(abs(corr.test(df.overall)$r[7, 1:6]), bound = "min", absval = T)`, `r rp(corr.test(df.overall)$p[7, 1:6])`.

A multiple regression analysis involving all measures at T1 (see Table 2) showed that apart from GPA at T1, `r rb(mr.overall$p$p.full.mod, "grd.1")`, the only significant predictors were the domain-general ability self-concept, `r rb(mr.overall$p$p.full.mod, "asc.1")`, and NFC, `r rb(mr.overall$p$p.full.mod, "nfc.1")`. Model fit was better for a model that included GPA, the ability self-concept, and NFC at T1 (while all other predictors were set to zero), `r fit.mr.overall.with.nfc`, than a model that included GPA and the ability self-concept only, `r fit.mr.overall.wout.nfc`, and a $\chi^2$-difference test supported the superiority of the former compared to the latter model, `r fro.chi.sq.diff`. 

```{r report_mr1, include = T}

apa_table(mr.report.overall, 
          caption = "Results of the multiple regression of school grades measured at T2 on predictors measured at T1",
          note = "$N$ = 276",
          align = c("l", rep("r", ncol(mr.report.overall))),
          escape = F)

apa_table(list(German = mr.report.german, Math = mr.report.math, Physics = mr.report.physics, Chemistry = mr.report.chemistry),
          caption = "Results of the multiple regression of subject grades at T2 on predictors measured at T1",
          note = "$N$ = 271-275",
          align = c("l", rep("c",ncol(mr.report.german))),
          escape = F,
          font_size = "scriptsize")
```

We therefore further examined a trivariate latent change score model involving school grades, the ability self-concept, and NFC. Figure 1B gives the results of the latent change score modeling with regard to the prediction of change and correlated change in overall school grades, i.e., GPA. While the best predictor of change on GPA was GPA at T1 (i.e., self-feedback), `r rl(fit.overall, "beta1")`, there was also evidence for cross-domain coupling, as the overall ability self-concept and NFC at T1 also significantly predicted change in GPA, `r rl(fit.overall, "gamma12")`, and `r rl(fit.overall, "gamma13")`, respectively. Correlated change was observed for GPA and the ability self-concept, `r rl(fit.overall, "rho12")`, and the ability self-concept and NFC, `r rl(fit.overall, "rho23")`, while the correlated changes in GPA and NFC did not reach significance, `r rl(fit.overall, "rho13")`.

![Latent change score models. (A) Example of a bivariate latent change score model (for details see text); legend to lines: dotted = loadings fixed to zero, red = self-feedback $\beta$, blue = cross-domain coupling $\gamma$, grey = correlation $\phi$ of predictors at T1, green = correlated change $\rho$; (B) Grade Point Average (GPA) and (C) to (F) subject-specific changes in grades at T2 (indicated by prefix $\Delta$) as predicted by their respective T1 levels as well as by Need for Cognition (NFC) and (overall as well as subject specific) Ability Self-Concept (ASC) at T1; coefficients are standardized coefficients. ]("/Users/alex/Documents/R/nfc_rf/Fig1.jpg")

## Domain-specific grades

For the four subjects examined, i.e., German, math, physics, and chemistry, similar results were obtained with regard to correlation analyses (see Supplementary Tables Sx to Sy<!-- add correct table numbers -->). As regards multiple regression analyses (see Supplementary Table Sz), for all subjects, grades at T2 were significant predictors of grades at T2, $p<.001$. The subject-specific ability self concept at T1 was a significant predictor of grades at T2 in German only, `r rb(mr.german$p$p.full.mod, "asc.1")`. NFC at T1 was a significant predictor of T2 grades in German, `r rb(mr.german$p$p.full.mod, "nfc.1")` and physics, `r rb(mr.physics$p$p.full.mod, "nfc.1")`. 

As regards the latent change score models, there was evidence for significant self-feedback for all subjects, all $p<.001$. With regard to the subject-specific ability self-concept, cross-domain coupling with changes in grades was observed for German, `r rl(fit.german, "gamma12")`,  and chemistry, `r rl(fit.chemistry, "gamma12")`. NFC at T1 showed cross-domain coupling with grades at T2 for German, `r rl(fit.german, "gamma13")`, physics, `r rl(fit.physics, "gamma13")`, and chemistry, `r rl(fit.chemistry, "gamma13")`. Correlated change between grades and the subject-specific ability self-concept was observed for all subjects, while correlated change between grades and NFC was observed for German, math, and physics only (see Fig. 1C-F). 

# Discussion

The present study was conducted in order to ... 

## Subheading 1

Our result show that ...

## Subheading 2

...

## Conclusion

Taken together, the present study provides evidence that ...

\newpage

# References
```{r create_r-references, echo = F, warning = F}
r_refs(file = "B6.2_References.bib")
```

\begingroup
\setlength{\parindent}{-0.5in}
\setlength{\leftskip}{0.5in}
<div id = "refs"></div>
\endgroup
